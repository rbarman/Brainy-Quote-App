;(function(g,l,d){var b="http://old.shareasimage.com/",a=l.getElementById("share-as-image-webservice"),u="share-as-image-selection_"+new Date().getTime()+"_"+Math.random().toString().substr(2),s="1.7",e="//ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js",p="http://static.shareasimage.com/jquery-1.7.0.min.js",o="http://static.shareasimage.com/webservice-full.min.js",c=l.head,j=l.body,n,k,m,i,t;if(g.shareAsImageModernizr!==true){g.Modernizr=function(ad,ac,ab){function G(v){V.cssText=v}function F(w,v){return G(S.join(w+";")+(v||""))}function E(w,v){return typeof w===v}function D(w,v){return !!~(""+w).indexOf(v)}function C(w,v,z){for(var y in w){var x=v[w[y]];if(x!==ab){return z===!1?w[y]:E(x,"function")?x.bind(z||v):x}}return !1}var aa="2.5.3",Z={},Y=ac.documentElement,X="modernizr",W=ac.createElement(X),V=W.style,U,T={}.toString,S=" -webkit- -moz- -o- -ms- ".split(" "),R={},Q={},P={},O=[],M=O.slice,K,J=function(ag,af,ae,B){var A,z,y,x=ac.createElement("div"),w=ac.body,v=w?w:ac.createElement("body");if(parseInt(ae,10)){while(ae--){y=ac.createElement("div"),y.id=B?B[ae]:X+(ae+1),x.appendChild(y)}}return A=["&#173;","<style>",ag,"</style>"].join(""),x.id=X,(w?x:v).innerHTML+=A,v.appendChild(x),w||(v.style.background="",Y.appendChild(v)),z=af(x,ag),w?x.parentNode.removeChild(x):v.parentNode.removeChild(v),!!z},I={}.hasOwnProperty,H;!E(I,"undefined")&&!E(I.call,"undefined")?H=function(w,v){return I.call(w,v)}:H=function(w,v){return v in w&&E(w.constructor.prototype[v],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(v){var y=this;if(typeof y!="function"){throw new TypeError}var x=M.call(arguments,1),w=function(){if(this instanceof w){var z=function(){};z.prototype=y.prototype;var B=new z,A=y.apply(B,x.concat(M.call(arguments)));return Object(A)===A?A:B}return y.apply(v,x.concat(M.call(arguments)))};return w});var N=function(y,x){var w=y.join(""),v=x.length;J(w,function(ag,af){var ae=ac.styleSheets[ac.styleSheets.length-1],B=ae?ae.cssRules&&ae.cssRules[0]?ae.cssRules[0].cssText:ae.cssText||"":"",A=ag.childNodes,z={};while(v--){z[A[v].id]=A[v]}Z.touch="ontouchstart" in ad||ad.DocumentTouch&&ac instanceof DocumentTouch||(z.touch&&z.touch.offsetTop)===9},v,x)}([,["@media (",S.join("touch-enabled),("),X,")","{#touch{top:9px;position:absolute}}"].join("")],[,"touch"]);R.canvas=function(){var v=ac.createElement("canvas");return !!v.getContext&&!!v.getContext("2d")},R.touch=function(){return Z.touch};for(var L in R){H(R,L)&&(K=L.toLowerCase(),Z[K]=R[L](),O.push((Z[K]?"":"no-")+K))}return Z.addTest=function(w,v){if(typeof w=="object"){for(var x in w){H(w,x)&&Z.addTest(x,w[x])}}else{w=w.toLowerCase();if(Z[w]!==ab){return Z}v=typeof v=="function"?v():v,Z[w]=v}return Z},G(""),W=U=null,Z._version=aa,Z._prefixes=S,Z.testStyles=J,Z}(this,this.document),function(ad,ac,ab){function aa(v){return P.call(v)=="[object Function]"}function Z(v){return typeof v=="string"}function Y(){}function X(v){return !v||v=="loaded"||v=="complete"||v=="uninitialized"}function W(){var v=O.shift();M=1,v?v.t?R(function(){(v.t=="c"?L.injectCss:L.injectJs)(v.s,0,v.a,v.x,v.e,1)},0):(v(),W()):M=0}function V(ah,ag,af,ae,B,A,z){function y(aj){if(!w&&X(x.readyState)&&(ai.r=w=1,!M&&W(),x.onload=x.onreadystatechange=null,aj)){ah!="img"&&R(function(){I.removeChild(x)},50);for(var ak in D[ag]){D[ag].hasOwnProperty(ak)&&D[ag][ak].onload()}}}var z=z||L.errorTimeout,x={},w=0,v=0,ai={t:af,s:ag,e:B,a:A,x:z};D[ag]===1&&(v=1,D[ag]=[],x=ac.createElement(ah)),ah=="object"?x.data=ag:(x.src=ag,x.type=ah),x.width=x.height="0",x.onerror=x.onload=x.onreadystatechange=function(){y.call(this,v)},O.splice(ae,0,ai),ah!="img"&&(v||D[ag]===2?(I.insertBefore(x,J?null:Q),R(y,z)):D[ag].push(x))}function U(w,v,z,y,x){return M=0,v=v||"j",Z(w)?V(v=="c"?G:H,w,v,this.i++,z,y,x):(O.splice(this.i++,0,w),O.length==1&&W()),this}function T(){var v=L;return v.loader={load:U,i:0},v}var S=ac.documentElement,R=ad.setTimeout,Q=ac.getElementsByTagName("script")[0],P={}.toString,O=[],M=0,K="MozAppearance" in S.style,J=K&&!!ac.createRange().compareNode,I=J?S:Q.parentNode,S=ad.opera&&P.call(ad.opera)=="[object Opera]",S=!!ac.attachEvent&&!S,H=K?"object":S?"script":"img",G=S?"script":H,F=Array.isArray||function(v){return P.call(v)=="[object Array]"},E=[],D={},C={timeout:function(w,v){return v.length&&(w.timeout=v[0]),w}},N,L;L=function(y){function w(af){var af=af.split("!"),ae=E.length,ak=af.pop(),aj=af.length,ak={url:ak,origUrl:ak,prefixes:af},ai,ah,ag;for(ah=0;ah<aj;ah++){ag=af[ah].split("="),(ai=C[ag.shift()])&&(ak=ai(ak,ag))}for(ah=0;ah<ae;ah++){ak=E[ah](ak)}return ak}function B(af,ak,aj,ai,ah){var ag=w(af),ae=ag.autoCallback;ag.url.split(".").pop().split("?").shift(),ag.bypass||(ak&&(ak=aa(ak)?ak:ak[af]||ak[ai]||ak[af.split("/").pop().split("?")[0]]||W),ag.instead?ag.instead(af,ak,aj,ai,ah):(D[ag.url]?ag.noexec=!0:D[ag.url]=1,aj.load(ag.url,ag.forceCSS||!ag.forceJS&&"css"==ag.url.split(".").pop().split("?").shift()?"c":ab,ag.noexec,ag.attrs,ag.timeout),(aa(ak)||aa(ae))&&aj.load(function(){T(),ak&&ak(ag.origUrl,ah,ai),ae&&ae(ag.origUrl,ah,ai),D[ag.url]=2})))}function A(an,am){function al(ao,ap){if(ao){if(Z(ao)){ap||(ai=function(){var aq=[].slice.call(arguments);ah.apply(this,aq),ag()}),B(ao,ai,am,0,ak)}else{if(Object(ao)===ao){for(ae in af=function(){var aq=0,ar;for(ar in ao){ao.hasOwnProperty(ar)&&aq++}return aq}(),ao){ao.hasOwnProperty(ae)&&(!ap&&!--af&&(aa(ai)?ai=function(){var aq=[].slice.call(arguments);ah.apply(this,aq),ag()}:ai[ae]=function(aq){return function(){var ar=[].slice.call(arguments);aq&&aq.apply(this,ar),ag()}}(ah[ae])),B(ao[ae],ai,am,ae,ak))}}}}else{!ap&&ag()}}var ak=!!an.test,aj=an.load||an.both,ai=an.callback||Y,ah=ai,ag=an.complete||Y,af,ae;al(ak?an.yep:an.nope,!!aj),aj&&al(aj)}var z,x,v=this.yepnope.loader;if(Z(y)){B(y,0,v,0)}else{if(F(y)){for(z=0;z<y.length;z++){x=y[z],Z(x)?B(x,0,v,0):F(x)?L(x):Object(x)===x&&A(x,v)}}else{Object(y)===y&&A(y,v)}}},L.addPrefix=function(w,v){C[w]=v},L.addFilter=function(v){E.push(v)},L.errorTimeout=10000,ac.readyState==null&&ac.addEventListener&&(ac.readyState="loading",ac.addEventListener("DOMContentLoaded",N=function(){ac.removeEventListener("DOMContentLoaded",N,0),ac.readyState="complete"},0)),ad.yepnope=T(),ad.yepnope.executeStack=W,ad.yepnope.injectJs=function(af,ae,B,A,z,y){var x=ac.createElement("script"),w,v,A=A||L.errorTimeout;x.src=af;for(v in B){x.setAttribute(v,B[v])}ae=y?W:ae||Y,x.onreadystatechange=x.onload=function(){!w&&X(x.readyState)&&(w=1,ae(),x.onload=x.onreadystatechange=null)},R(function(){w||(w=1,ae(1))},A),z?x.onload():Q.parentNode.insertBefore(x,Q)},ad.yepnope.injectCss=function(v,B,A,z,y,x){var z=ac.createElement("link"),w,B=x?W:B||Y;z.href=v,z.rel="stylesheet",z.type="text/css";for(w in A){z.setAttribute(w,A[w])}y||(Q.parentNode.insertBefore(z,Q),R(B,0))}}(this,l),Modernizr.load=function(){yepnope.apply(g,[].slice.call(arguments,0))};g.shareAsImageModernizr=true}if(Modernizr.canvas&&!Modernizr.touch){if(!l.getElementById("share-as-image-webservice-share-button")){var r=l.createElement("style"),q=l.createElement("a");r.appendChild(l.createTextNode("#share-as-image-webservice-share-button{background:url(http://old.shareasimage.com/service/js/sprite.png) no-repeat 0 -289px;color:transparent;cursor:pointer;display:block;font:0/0 a;height:29px;left:0;position:absolute;text-shadow:none;top:0;visibility:hidden;width:206px;z-index:999998;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#share-as-image-webservice-share-button:after{content:url(http://old.shareasimage.com/service/js/loader.gif);display:none;height:0;width:0}#share-as-image-webservice-share-button:hover{background-position:0 -318px}#share-as-image-webservice-share-button:active{background-position:0 -347px}"));c.appendChild(r);q.id="share-as-image-webservice-share-button";q.title="Share As Image";q.createTextNode="Share As Image";q.setAttribute("unselectable","on");j.appendChild(q);q=l.getElementById("share-as-image-webservice-share-button");g.addEventListener("mouseup",h);q.addEventListener("click",f)}}function h(){if(g.shareAsImagejQuery&&shareAsImagejQuery("#share-as-image-webservice").is(":visible")){return}n=g.getSelection();m=n.toString();if(m){if(n.getRangeAt){k=n.getRangeAt(0).cloneRange()}else{k.setStart(n.anchorNode,n.anchorOffset);k.setEnd(n.focusNode,n.focusOffset);if(k.collapsed!==n.isCollapsed){k.setStart(n.focusNode,n.focusOffset);k.setEnd(n.anchorNode,n.anchorOffset)}}k.collapse(false);i=l.createElement("span");i.id=u;i.createTextNode="&#xfeff;";k.insertNode(i)}if(m===""||m===false||m===d||m.match(/^\s*$/)!==null||t===m){q.style.visibility="hidden";if(i&&i.parentNode){i.parentNode.removeChild(i)}return}if(i){t=m;g.ShareAsImageWebserviceSelection=m;var x=i;var w=0,v=0;do{w+=x.offsetLeft;v+=x.offsetTop}while(x=x.offsetParent);q.style.visibility="visible";q.style.left=w-15+"px",q.style.top=v-30+"px";i.parentNode.removeChild(i)}}function f(){a=l.getElementById("share-as-image-webservice");j.style.cursor="wait";if(a===d||a===null){Modernizr.load([{test:true,yep:e,callback:function(){if(g.jQuery===d||g.jQuery.fn.jquery<s){Modernizr.load(p)}g.shareAsImagejQuery=jQuery.noConflict(true)}},{load:o,callback:function(){if(g.shareAsImagejQuery===d){g.shareAsImagejQuery=jQuery}ShareAsImageWebservice.init(o);j.style.cursor="auto"}}])}else{ShareAsImageWebservice.showContainer();j.style.cursor="auto"}}})(window,document);